<!-- src/app/pages/lost-item-detail/lost-item-detail.html -->
<div class="container detail-page">
  <a routerLink="/lost-items" class="back-link">⬅ رجوع</a>

  <div *ngIf="loading()" class="loading">جاري التحميل...</div>
  <div *ngIf="error()" class="error">{{ error() }}</div>

  <div *ngIf="item" class="detail-card">
    <div class="thumb">
      <img 
        [src]="item.imageUrl || '/assets/img/placeholder-item.png'" 
        alt="{{item.title}}"
        (error)="onImgError($event)"
      >
    </div>

    <div class="info">
      <h2>{{ item.title }}</h2>
      <p class="category">{{ item.category }}</p>
      <p class="desc">{{ item.description }}</p>

      <ul class="meta-list">
        <li><strong>التاريخ:</strong> {{ formatDate(item.dateLost ?? item.createdAt) }}</li>

        <li><strong>المكان:</strong> {{ item.location?.address || '-' }}</li>

        <li *ngIf="item.contactInfo">
          <strong>جهة الاتصال:</strong>
          <a *ngIf="contactLink()" [href]="contactLink()">{{ item.contactInfo }}</a>
          <span *ngIf="!contactLink()">{{ item.contactInfo }}</span>
        </li>

        <li><strong>الحالة:</strong> 
          {{ item.status || (item.isFound ? 'عُثر عليه' : 'مفقود') }}
        </li>

        <li *ngIf="item.matchCount !== undefined">
          <strong>عدد التطابقات المحتملة:</strong> {{ item.matchCount }}
        </li>
      </ul>
    </div>
  </div>
</div>
